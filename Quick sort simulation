import matplotlib.pyplot as mpl
import numpy as np  # thu vien xu ly mang so nguyen

def drawGraph(array, keyIndex,index1, index2):
    mpl.clf()  # xoa bieu do cu de ve bieu do moi
    colors = [
        "blue"if i==keyIndex else "green" if i != index1 and i != index2 else "yellow" for i in range(len(array))
    ]
    mpl.bar(range(len(array)), array, color=colors)  # dai, cao, mau
    mpl.title("Quick sort graph")
    mpl.pause(0.2)  # tam dung man hinh de quan sat


def QuickSort(array,begin,end):
    if (end-begin)+1 > 1:
        i = begin; j = end
        key = array[(i+j)//2]
        while i <= j:
            while array[i] < key:
                drawGraph(array,(begin+end)//2,i,-1)
                
                
                i += 1
            while array[j] > key:
                drawGraph(array,(begin+end)//2,-1,j)
                j -= 1
            if i <= j:
                array[i], array[j] = array[j], array[i]
                i += 1
                j -= 1
                drawGraph(array,(begin+end)//2,i,j)
        if begin < j:
            QuickSort(array,begin,j)
        if i < end:
            QuickSort(array,i,end)

array = np.random.randint(1, 120, 20)  # array ngau nhien tu 1 den 199 gom 1 phan tu
drawGraph(array, -1, -1, -1)  # trang thai ban dau tat ca deu xanh
QuickSort(array,0,len(array)-1)
